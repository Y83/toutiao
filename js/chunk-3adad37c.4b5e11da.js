(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3adad37c"],{"0fa6":function(t,e,r){"use strict";r("c07c")},2909:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){if(Array.isArray(t))return n(t)}r.d(e,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}r("fb6a"),r("b0c0"),r("25f0");function i(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return o(t)||a(t)||i(t)||u()}},"373e":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-follow"},[r("van-nav-bar",{staticClass:"page-nav-bar",attrs:{"left-arrow":""},on:{"click-left":function(e){return t.$router.back()}}},[r("van-tabs",{attrs:{slot:"title",background:"#3296fa",color:"#fff","title-inactive-color":"#fff","title-active-color":"#fff",border:!1},slot:"title",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("van-tab",{attrs:{title:"关注",to:"/user/"+t.userId+"/follow",replace:""}},[r("follow-list")],1),r("van-tab",{attrs:{title:"粉丝",to:"/user/"+t.userId+"/follow?tab=followers",replace:""}},[r("follow-list",{attrs:{followers:""}})],1)],1)],1)],1)},o=[],a=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"follow-list"},[r("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return r("van-cell",{key:n,staticClass:"follow-item"},[r("van-image",{staticClass:"avatar",attrs:{slot:"icon",round:"",src:e.photo,fit:"cover"},on:{click:function(r){return t.$router.push({name:"user",params:{userId:e.id}})}},slot:"icon"}),r("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.name.trim()||"黑马头条号")+" ")]),r("div",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v("粉丝数："+t._s(e.fans_count))]),"followers"!==t.$route.query.tab?r("follow-user",{attrs:{"user-id":e.id},model:{value:e.is_followed,callback:function(r){t.$set(e,"is_followed",r)},expression:"item.is_followed"}},[e.is_followed?r("span",[t._v(" "+t._s(e.mutual_follow?"互相关注":"已关注")+" ")]):r("span",[t._v("关注")])]):r("follow-user",{attrs:{"user-id":e.id},model:{value:e.mutual_follow,callback:function(r){t.$set(e,"mutual_follow",r)},expression:"item.mutual_follow"}},[t._v(" "+t._s(e.mutual_follow?"互相关注":"关注")+" ")])],1)})),1)],1)}),i=[],u=(r("4160"),r("159b"),r("2909")),c=(r("96cf"),r("1da1")),l=r("c24f"),s=r("f50e"),f={name:"FollowList",components:{FollowUser:s["a"]},props:{followers:{type:Boolean,default:!1}},data:function(){return{list:[],loading:!1,finished:!1,page:1,perPage:20}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onLoad:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,o,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=[t.$route.params.userId,{page:t.page,perPage:t.perPage}],e.next=4,t.followers?l["c"].apply(void 0,n):l["d"].apply(void 0,n);case 4:o=e.sent,a=o.data,i=a.data.results,i.forEach((function(t){t.is_followed=!0})),(r=t.list).push.apply(r,Object(u["a"])(i)),t.loading=!1,i.length?t.page++:t.finished=!0,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.$toast("数据获取失败");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()}}},d=f,p=(r("7948"),r("2877")),v=Object(p["a"])(d,a,i,!1,null,"61446e77",null),b=v.exports,m={name:"UserFollow",components:{FollowList:b},props:{userId:{type:[Number,String,Object],required:!0}},data:function(){return{active:"followers"===this.$route.query.tab?1:0}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},h=m,g=(r("0fa6"),Object(p["a"])(h,n,o,!1,null,"2c8836a3",null));e["default"]=g.exports},"4df4":function(t,e,r){"use strict";var n=r("0366"),o=r("7b0b"),a=r("9bdd"),i=r("e95a"),u=r("50c4"),c=r("8418"),l=r("35a1");t.exports=function(t){var e,r,s,f,d,p,v=o(t),b="function"==typeof this?this:Array,m=arguments.length,h=m>1?arguments[1]:void 0,g=void 0!==h,w=l(v),_=0;if(g&&(h=n(h,m>2?arguments[2]:void 0,2)),void 0==w||b==Array&&i(w))for(e=u(v.length),r=new b(e);e>_;_++)p=g?h(v[_],_):v[_],c(r,_,p);else for(f=w.call(v),d=f.next,r=new b;!(s=d.call(f)).done;_++)p=g?a(f,h,[s.value,_],!0):s.value,c(r,_,p);return r.length=_,r}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),o=r("5899"),a="["+o+"]",i=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(i,"")),2&t&&(r=r.replace(u,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,r){var n=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var a,i;return o&&"function"==typeof(a=e.constructor)&&a!==r&&n(i=a.prototype)&&i!==r.prototype&&o(t,i),t}},"78e2":function(t,e,r){},7948:function(t,e,r){"use strict";r("78e2")},"9bdd":function(t,e,r){var n=r("825a"),o=r("2a62");t.exports=function(t,e,r,a){try{return a?e(n(r)[0],r[1]):e(r)}catch(i){throw o(t),i}}},a630:function(t,e,r){var n=r("23e7"),o=r("4df4"),a=r("1c7e"),i=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:o})},a9e3:function(t,e,r){"use strict";var n=r("83ab"),o=r("da84"),a=r("94ca"),i=r("6eeb"),u=r("5135"),c=r("c6b6"),l=r("7156"),s=r("c04e"),f=r("d039"),d=r("7c73"),p=r("241c").f,v=r("06cf").f,b=r("9bf2").f,m=r("58a8").trim,h="Number",g=o[h],w=g.prototype,_=c(d(w))==h,y=function(t){var e,r,n,o,a,i,u,c,l=s(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+l}for(a=l.slice(2),i=a.length,u=0;u<i;u++)if(c=a.charCodeAt(u),c<48||c>o)return NaN;return parseInt(a,n)}return+l};if(a(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var O,E=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof E&&(_?f((function(){w.valueOf.call(r)})):c(r)!=h)?l(new g(y(e)),r,E):y(e)},I=n?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;I.length>A;A++)u(g,O=I[A])&&!u(E,O)&&b(E,O,v(g,O));E.prototype=w,w.constructor=E,i(o,h,E)}},b0c0:function(t,e,r){var n=r("83ab"),o=r("9bf2").f,a=Function.prototype,i=a.toString,u=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(u)[1]}catch(t){return""}}})},c07c:function(t,e,r){},c24f:function(t,e,r){"use strict";r.d(e,"i",(function(){return o})),r.d(e,"j",(function(){return a})),r.d(e,"g",(function(){return i})),r.d(e,"f",(function(){return u})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"h",(function(){return s})),r.d(e,"l",(function(){return f})),r.d(e,"k",(function(){return d})),r.d(e,"e",(function(){return p})),r.d(e,"d",(function(){return v})),r.d(e,"c",(function(){return b}));r("d3b7"),r("25f0");var n=r("b775"),o=function(t){return Object(n["a"])({method:"POST",url:"/app/v1_0/authorizations",data:t})},a=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/sms/codes/"+t})},i=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user"})},u=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/channels"})},c=function(t){return Object(n["a"])({method:"POST",url:"/app/v1_0/user/followings",data:{target:t}})},l=function(t){return Object(n["a"])({method:"DELETE",url:"/app/v1_0/user/followings/"+t})},s=function(){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/profile"})},f=function(t){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/profile",data:t})};function d(t){return Object(n["a"])({method:"PATCH",url:"/app/v1_0/user/photo",data:t})}var p=function(t){return Object(n["a"])({method:"GET",url:"/app/v1_0/users/".concat(t)})};function v(t,e){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/followings",params:e,data:{target:t.toString()}})}function b(t,e){return Object(n["a"])({method:"GET",url:"/app/v1_0/user/followers",params:e,data:{target:t.toString()}})}},f50e:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.value?r("van-button",{attrs:{round:"",size:"small",loading:t.loading},on:{click:t.onFollow}},[t._t("default",[t._v(t._s("已关注"))])],2):r("van-button",{attrs:{type:"info",color:"#3296fa",round:"",size:"small",icon:"plus",loading:t.loading},on:{click:t.onFollow}},[t._v("关注")])},o=[],a=(r("a9e3"),r("96cf"),r("1da1")),i=r("c24f"),u={name:"FollowUser",props:{value:{type:Boolean,required:!0},userId:{type:[Number,String,Object],required:!0}},data:function(){return{loading:!1}},created:function(){},methods:{onFollow:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,e.prev=1,!t.value){e.next=7;break}return e.next=5,Object(i["b"])(t.userId);case 5:e.next=9;break;case 7:return e.next=9,Object(i["a"])(t.userId);case 9:t.$emit("input",!t.value),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](1),r="操作失败，请重试！",e.t0.response&&400===e.t0.response.status&&(r="不能关注自己！"),t.$toast(r);case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))()}}},c=u,l=r("2877"),s=Object(l["a"])(c,n,o,!1,null,"49e2c028",null);e["a"]=s.exports},fb6a:function(t,e,r){"use strict";var n=r("23e7"),o=r("861d"),a=r("e8b5"),i=r("23cb"),u=r("50c4"),c=r("fc6a"),l=r("8418"),s=r("b622"),f=r("1dde"),d=r("ae40"),p=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),b=s("species"),m=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var r,n,s,f=c(this),d=u(f.length),p=i(t,d),v=i(void 0===e?d:e,d);if(a(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?o(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(f,p,v);for(n=new(void 0===r?Array:r)(h(v-p,0)),s=0;p<v;p++,s++)p in f&&l(n,s,f[p]);return n.length=s,n}})}}]);
//# sourceMappingURL=chunk-3adad37c.4b5e11da.js.map